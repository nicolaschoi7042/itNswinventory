# IT 자산 인벤토리 시스템 업그레이드 가이드

현재 로컬 스토리지 기반 시스템을 중앙 데이터베이스 기반 다중 사용자 시스템으로 업그레이드하는 단계별 가이드입니다.

## 🚨 현재 시스템 한계 요약

### ❌ 주요 문제점
- **데이터 격리**: 각 사용자별로 독립된 로컬 스토리지 사용
- **동시 작업 불가**: 여러 사용자가 동시에 데이터 편집시 충돌
- **데이터 손실 위험**: 브라우저 캐시 삭제시 모든 데이터 손실
- **백업 부재**: 시스템적인 백업 및 복구 방법 없음
- **보안 취약**: 인증 없이 누구나 접근 및 수정 가능
- **접근성 제한**: 특정 PC에서만 데이터 접근 가능

## 📊 업그레이드 후 개선 사항

### ✅ 해결되는 문제들
| 영역 | 현재 → 개선 후 |
|------|---------------|
| **데이터 공유** | 개별 저장 → 중앙 DB 공유 |
| **동시 사용** | 불가능 → 다중 사용자 지원 |
| **백업** | 수동/불가능 → 자동 백업 (하루 2회) |
| **보안** | 무제한 접근 → 로그인 + 권한 관리 |
| **접근성** | 특정 PC → 어디서나 웹 접근 |
| **데이터 추적** | 불가능 → 모든 변경 이력 로깅 |

## 🎯 단계별 업그레이드 계획

### **1단계: 준비 및 계획 (1-2일)**

#### 📋 사전 준비 체크리스트
- [ ] 현재 데이터 백업 (모든 PC의 로컬 스토리지)
- [ ] 서버 하드웨어 준비 (CPU: 2코어, RAM: 4GB, 저장공간: 100GB 이상)
- [ ] Docker 및 Docker Compose 설치
- [ ] 네트워크 설정 (포트 8080, 3000, 5432 오픈)
- [ ] SSL 인증서 준비 (HTTPS 적용시)

#### 💾 현재 데이터 내보내기
```javascript
// 브라우저 콘솔에서 실행 (각 PC에서)
const exportData = () => {
    const data = {
        employees: JSON.parse(localStorage.getItem('inventory_employees') || '[]'),
        hardware: JSON.parse(localStorage.getItem('inventory_hardware') || '[]'),
        software: JSON.parse(localStorage.getItem('inventory_software') || '[]'),
        assignments: JSON.parse(localStorage.getItem('inventory_assignments') || '[]'),
        activities: JSON.parse(localStorage.getItem('inventory_activities') || '[]')
    };
    
    const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `inventory_backup_${new Date().toISOString().split('T')[0]}.json`;
    a.click();
};

exportData();
```

### **2단계: 개발/테스트 환경 구축 (2-3일)**

#### 🔧 환경 설정
```bash
# 1. 프로젝트 파일 다운로드 및 설정
cd /opt/it-inventory

# 2. 환경 변수 설정
cp .env.example .env
# .env 파일에서 비밀번호와 보안 키 설정

# 3. 테스트 환경 실행
docker-compose -f docker-compose.production.yml up -d

# 4. 데이터베이스 초기화 확인
docker exec -it it-inventory-db psql -U inventory_user -d inventory_db -c "\dt"
```

#### 🧪 테스트 계획
- [ ] 기본 기능 테스트 (CRUD 작업)
- [ ] 다중 사용자 동시 접속 테스트
- [ ] 백업/복구 시스템 테스트
- [ ] 성능 테스트 (동시 사용자 10명 이상)

### **3단계: 데이터 마이그레이션 (1일)**

#### 📥 기존 데이터 통합
```bash
# 1. 데이터 마이그레이션 스크립트 실행
cd /opt/it-inventory/backend
node migration/import_legacy_data.js /path/to/backup/files/

# 2. 데이터 무결성 검증
psql -U inventory_user -d inventory_db -f validation/data_check.sql
```

#### 🔄 마이그레이션 검증
- [ ] 임직원 데이터 개수 및 내용 일치성 확인
- [ ] 하드웨어 자산 데이터 정합성 검증
- [ ] 소프트웨어 라이선스 정보 일치성 확인
- [ ] 자산 할당 관계 무결성 검증

### **4단계: 사용자 계정 생성 및 권한 설정 (1일)**

#### 👤 사용자 역할 정의
| 역할 | 권한 | 대상자 |
|------|------|---------|
| **admin** | 전체 관리 + 사용자 관리 | IT 관리자 |
| **manager** | 데이터 등록/수정/삭제 | 팀장급 |
| **user** | 조회 + 자신의 자산 관리 | 일반 직원 |

#### 🔑 초기 계정 생성
```sql
-- 관리자 계정 생성
INSERT INTO users (username, password_hash, full_name, email, role) 
VALUES ('admin', '$2a$10$...', '시스템관리자', 'admin@company.com', 'admin');

-- 매니저 계정들 생성
INSERT INTO users (username, password_hash, full_name, email, role) 
VALUES 
('manager1', '$2a$10$...', '개발팀장', 'dev_mgr@company.com', 'manager'),
('manager2', '$2a$10$...', 'IT팀장', 'it_mgr@company.com', 'manager');
```

### **5단계: 운영 환경 배포 (1-2일)**

#### 🚀 프로덕션 배포
```bash
# 1. 운영 서버에서 실행
git clone [repository-url] /opt/it-inventory
cd /opt/it-inventory

# 2. 운영 환경 변수 설정
cp .env.example .env
# 강력한 비밀번호와 보안 키 설정

# 3. 프로덕션 서비스 시작
docker-compose -f docker-compose.production.yml up -d

# 4. SSL/HTTPS 설정 (선택사항)
# Let's Encrypt 또는 사내 인증서 적용

# 5. 방화벽 및 네트워크 보안 설정
ufw allow 8080/tcp
ufw allow 443/tcp  # HTTPS용
```

### **6단계: 사용자 교육 및 전환 (1주)**

#### 📚 사용자 교육 계획

##### **관리자 교육 (2시간)**
- [ ] 시스템 관리 패널 사용법
- [ ] 사용자 계정 관리
- [ ] 백업/복구 절차
- [ ] 로그 모니터링
- [ ] 장애 대응 절차

##### **매니저 교육 (1시간)**
- [ ] 데이터 등록/수정 권한 범위
- [ ] 보고서 생성 및 엑셀 내보내기
- [ ] 자산 할당/반납 프로세스
- [ ] 승인 권한 사용법

##### **일반 사용자 교육 (30분)**
- [ ] 로그인 및 비밀번호 변경
- [ ] 개인 자산 현황 조회
- [ ] 자산 신청 프로세스
- [ ] 문의 및 지원 채널

#### 📋 교육 자료
- 사용자 매뉴얼 (PDF)
- 화면별 조작 가이드 (스크린샷)
- FAQ 문서
- 비상 연락처

### **7단계: 점진적 전환 및 안정화 (1-2주)**

#### 🔄 단계적 전환 계획

##### **Week 1: 파일럿 테스트**
- [ ] IT팀 내부 테스트 (3-5명)
- [ ] 핵심 기능 검증
- [ ] 성능 및 안정성 확인
- [ ] 피드백 수집 및 개선

##### **Week 2: 부서별 순차 적용**
- [ ] 개발팀 (10명) → 영업팀 (15명) → 전체
- [ ] 각 부서별 담당자 지정
- [ ] 실시간 기술지원 제공
- [ ] 이슈 트래킹 및 해결

#### 📊 모니터링 지표
- [ ] 시스템 가용성 (99% 이상 목표)
- [ ] 응답 시간 (2초 이내)
- [ ] 동시 접속자 수
- [ ] 오류율 (1% 미만 목표)
- [ ] 사용자 만족도

## 🔧 기술 지원 및 유지보수

### **일상 운영 체크리스트**

#### 📅 매일
- [ ] 시스템 가용성 확인
- [ ] 백업 실행 상태 확인
- [ ] 오류 로그 검토

#### 📅 주간
- [ ] 성능 지표 리뷰
- [ ] 디스크 공간 확인
- [ ] 보안 업데이트 적용

#### 📅 월간
- [ ] 백업 복구 테스트
- [ ] 사용자 계정 정리
- [ ] 시스템 성능 최적화

### **장애 대응 절차**

#### 🚨 Level 1: 즉시 대응 (시스템 다운)
1. **알람 확인**: 모니터링 시스템 체크
2. **서비스 재시작**: `docker-compose restart`
3. **로그 확인**: `docker-compose logs -f`
4. **백업 복구**: 필요시 최신 백업으로 복구

#### ⚠️ Level 2: 중요 (기능 장애)
1. **이슈 분석**: 로그 파일 상세 분석
2. **임시 조치**: 해당 기능 비활성화
3. **패치 적용**: 코드 수정 및 배포
4. **테스트**: 수정사항 검증

#### 💡 Level 3: 일반 (성능 저하)
1. **성능 분석**: 리소스 사용률 확인
2. **최적화**: 쿼리 튜닝, 캐시 적용
3. **용량 확장**: 필요시 하드웨어 업그레이드

## 💰 비용 및 리소스

### **초기 투자비용**
| 항목 | 예상 비용 | 비고 |
|------|-----------|------|
| 서버 하드웨어 | 200-500만원 | 또는 클라우드 월 10-30만원 |
| 소프트웨어 라이선스 | 무료 | 오픈소스 기반 |
| 개발/구축비 | 500-1000만원 | 외주시 |
| 교육/컨설팅 | 200-300만원 | 선택사항 |

### **운영비용 (월간)**
| 항목 | 예상 비용 | 비고 |
|------|-----------|------|
| 서버 운영 | 5-20만원 | 전기료, 유지보수 |
| 백업 스토리지 | 2-5만원 | 클라우드 백업시 |
| 기술지원 | 50-100만원 | 전담 인력 |

## ❓ FAQ

### Q: 기존 데이터가 손실될 위험은 없나요?
A: 마이그레이션 전 완전한 백업을 수행하고, 병렬 운영 기간을 두어 데이터 손실 위험을 최소화합니다.

### Q: 인터넷이 없어도 사용 가능한가요?
A: 네, 사내 네트워크만으로 완전히 동작하며 외부 인터넷이 필요하지 않습니다.

### Q: 기존 엑셀 파일로 내보내기는 여전히 지원하나요?
A: 네, 모든 기존 기능이 유지되며 추가로 더 많은 리포트 기능이 제공됩니다.

### Q: 모바일에서도 사용할 수 있나요?
A: 네, 반응형 디자인으로 스마트폰과 태블릿에서도 사용 가능합니다.

### Q: 업그레이드 기간 중 업무 중단이 있나요?
A: 점진적 전환 방식으로 업무 중단을 최소화하며, 주로 업무 외 시간에 작업을 진행합니다.

## 📞 지원 연락처

- **기술 지원**: IT팀 (내선 1234)
- **사용법 문의**: 시스템 관리자
- **장애 신고**: 24시간 핫라인 (긴급시)

---

*이 가이드는 IT 자산 인벤토리 시스템 v2.0 업그레이드를 위한 공식 문서입니다.*